<!-- This html file is only a DRAFT. PLEASE SEE registration_form.html-->

<div class="container">
    <label for="email"><b>Username</b></label>
    <input type="text" placeholder="Enter Email" name="email" required>

    <label for="password"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="password" required>

    <button type="submit">Login</button>
    <label><input type="checkbox" checked="checked" name="remember"> Remember me</label>
</div>
<div class="container" style="background-color:#f1f1f1">
    <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
    <span class="psw">Forgot <a href="#">password?</a></span>
</div>


<!-- This html file is only a DRAFT. PLEASE SEE registration_form.html-->
{% block content %}
<div class = 'col-sm-8 col-sm-offset-2'>  <!-- increase the left margin of a column by 2 columns-->
    <h1> {{ title }} </h1>   <!-- title is going to be "register" and "login" -->

    <form method = 'POST' action = '' enctype = 'multipart/form-data'> {% csrf_token %}

    <input type = 'submit' class = 'btn btn-default' value = '{{ title }}' />

    </form>

</div>
{% endblock content %}


<!--
<h2>{{ user.get_full_name }}</h2>
<ul>
  <li>Email: {{ user.username }}</li>
  <li>degree_name: {{ user.profile.degree_name }}</li>
</ul>
-->


<!---->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> </title>
</head>
<body>
    <div class = "container-fluid">
        <div class = "row">
            <div class = "col-sm-12 col-md-7">
                <div class = "panel panel-default">
                    <div class = "panel-body">
                        <h3> Create a New account </h3>
                        {% if error_message %}
                        <p><strong>{{ error_message }} </strong></p>
                        {% endif %}
                        <form class = "form-horizontal" role="form" action="" method = "post">
                            {% csrf_token %}


                            <div class="container">
                                <label for="email"><b>Username</b></label>
                                <input type="text" placeholder="Enter Email" name="email" required>

                                <label for="password"><b>Password</b></label>
                                <input type="password" placeholder="Enter Password" name="password" required>

                                <button type="submit">Register</button>
                                <label><input type="checkbox" checked="checked" name="remember"> Remember me</label>
                            </div>
                            <div class="container" style="background-color:#f1f1f1">
                                <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
                            </div>


                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <div class = "container-fluid">
        <div class = "row">
            <div class = "col-sm-12 col-md-7">
                <div class = "panel panel-default">
                    <div class = "panel-body">
                        <h3>Login</h3>
                        {% if error_message %}
                        <p><strong>{{ error_message }} </strong></p>
                        {% endif %}
                        <form method = 'POST' action = '' enctype = 'multipart/form-data'> {% csrf_token %}
                            {% csrf_token %}
                            {{ form.as_p }}
                            <input type = 'submit' class = 'btn btn-default' value = '{{ title }}' />
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>



<<<<<<< HEAD
https://simpleisbetterthancomplex.com/tutorial/2016/11/23/how-to-add-user-profile-to-django-admin.html

############################# WORKING CODES BELOW #############################

from django.contrib.auth.models import User
from django.db import models
from django.db.models.signals import post_save
from django.dispatch import receiver

class Profile(models.Model):
    STUDENT = 1
    TEACHER = 2
    SUPERVISOR = 3
    ROLE_CHOICES = (
        (STUDENT, 'Student'),
        (TEACHER, 'Teacher'),
        (SUPERVISOR, 'Supervisor'),
    )
    # if we delete User, delete profile. If we delete profile, delete User.
    user = models.OneToOneField(User, on_delete=models.CASCADE)

    # If blank=True then the field will not be required
    # Blank values for Django field types such as DateTimeField or ForeignKey will be stored as NULL in the DB.
    location = models.CharField(max_length=30, blank=True)
    birthdate = models.DateField(null=True, blank=True)
    role = models.PositiveSmallIntegerField(choices=ROLE_CHOICES, null=True, blank=True)

    def __str__(self):  # __unicode__ for Python 2
        return self.user.username

@receiver(post_save, sender=User) # get signal from User model
def create_or_update_user_profile(sender, instance, created, **kwargs):
    if created:
        Profile.objects.create(user=instance)
    instance.profile.save()

##################

from django.contrib import admin
from django.contrib.auth.admin import UserAdmin
from django.contrib.auth.models import User

from .models import Profile

class ProfileInline(admin.StackedInline):    # avoid displaying Profiles in plural
    model = Profile
    can_delete = False
    verbose_name_plural = 'Profile'
    fk_name = 'user'

class CustomUserAdmin(UserAdmin):
    inlines = (ProfileInline, )
    # add profile fields to list view
    list_display = ('username', 'email', 'first_name', 'last_name', 'is_staff', 'get_location')
    list_select_related = ('profile', )

    def get_location(self, instance):
        return instance.profile.location
    get_location.short_description = 'Location'

    def get_inline_instances(self, request, obj=None):
        if not obj:
            return list()
        return super(CustomUserAdmin, self).get_inline_instances(request, obj)

admin.site.unregister(User)
admin.site.register(User, CustomUserAdmin)



# https://simpleisbetterthancomplex.com/tutorial/2016/11/23/how-to-add-user-profile-to-django-admin.html
############################# WORKING CODES ABOVE ###################################


<h2>{{ user.get_full_name }}</h2>
    <ul>
        <li>Username: {{ user.username }}</li>
        <li>Location: {{ user.profile.location }}</li>
        <li>Birth Date: {{ user.profile.birth_date }}</li>
    </ul>